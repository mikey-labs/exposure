<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
</head>
<body style="padding: 0;margin: 0;">
    <div id="d1" style="height: 500px;width: 100%;background: black">

    </div>
    <div style="height: 400px;width: 3000px;background: yellow">

    </div>
    <div style="height: 200px;width: 100%;background: rebeccapurple">

    </div>
    <div id="d4" style="height: 200px;width: 3000px;background: red">

    </div>
<script type="module">
    import Exposure from "../dist/index.esm.mjs";
    const ds = document.getElementsByTagName("div");
    const exposure = new Exposure();
    console.log(ds)
    exposure.observe(ds,add)


    function add(intersection,stop) {
        if (intersection) {
            stop()
            console.log("add")
        }
    }
    setTimeout(()=>{
        exposure.unobserve(ds);
    },3000)


        // exposure.observeByScroll(ds.item(3),function (isIntersecting,stop) {
        //     console.log(isIntersecting)
        //     if(isIntersecting){
        //         stop()
        //     }
        // });

    // add()

</script>
</body>
</html>
